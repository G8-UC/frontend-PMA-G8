# ๐๏ธ Arquitectura de Deployment

## ๐ Visiรณn General

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                         GITHUB REPOSITORY                       โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ                    github.com/repo                        โ โ
โ  โ                                                           โ โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ โ
โ  โ  โ     .github/workflows/deploy-cloudfront.yml        โ  โ โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ โ
โ  โ                                                           โ โ
โ  โ  On Push โ Triggers GitHub Actions                      โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                             โ
                             โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                     GITHUB ACTIONS CI/CD                        โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  1. Checkout code                                       โ  โ
โ  โ  2. Setup Node.js                                       โ  โ
โ  โ  3. npm ci                                              โ  โ
โ  โ  4. Build React App                                     โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  5. Configure AWS Credentials                           โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  6. Upload to S3                                        โ  โ
โ  โ  7. Invalidate CloudFront Cache                         โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                             โ
                             โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                         AWS INFRASTRUCTURE                      โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ      โ
โ  โ                  AMAZON S3                          โ      โ
โ  โ                                                      โ      โ
โ  โ  Bucket: propertyrental-frontend                    โ      โ
โ  โ                                                      โ      โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ     โ      โ
โ  โ  โ  Static Files:                             โ     โ      โ
โ  โ  โ  - index.html                              โ     โ      โ
โ  โ  โ  - static/css/*.css                        โ     โ      โ
โ  โ  โ  - static/js/*.js                          โ     โ      โ
โ  โ  โ  - static/media/*                          โ     โ      โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ     โ      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ      โ
โ                             โ                                   โ
โ                             โผ                                   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ      โ
โ  โ              CLOUDFRONT CDN                         โ      โ
โ  โ                                                      โ      โ
โ  โ  Origin: S3 Bucket                                  โ      โ
โ  โ  Protocol: HTTPS only                               โ      โ
โ  โ  Cache Policy:                                      โ      โ
โ  โ    - Static: 1 year                                 โ      โ
โ  โ    - HTML: 0 (must-revalidate)                      โ      โ
โ  โ                                                      โ      โ
โ  โ  Error Pages:                                       โ      โ
โ  โ    - 404 โ /index.html (200)                       โ      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                             โ
                             โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                        END USERS                                โ
โ                                                                 โ
โ  ๐ https://www.ics2173-2025-2-paurovira.me                   โ
โ                                                                 โ
โ  Fast, Secure, Global CDN Delivery                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ Flujo de Deployment

### 1. Desarrollo Local

```bash
# Developer hace cambios
git add .
git commit -m "feat: new feature"
git push origin main
```

### 2. GitHub Actions Trigger

```yaml
on:
  push:
    branches:
      - main
      - master
      - auth0
```

### 3. Build & Deploy

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ GitHub Actions Runner                          โ
โ                                                 โ
โ Step 1: Checkout Code                          โ
โ Step 2: Setup Node 18                          โ
โ Step 3: Install Dependencies                   โ
โ Step 4: Build React App                        โ
โ         โโ Generates: build/ folder            โ
โ Step 5: Configure AWS Credentials              โ
โ Step 6: Upload to S3                           โ
โ         โโ aws s3 sync build/ s3://bucket      โ
โ Step 7: Invalidate CloudFront                  โ
โ         โโ aws cloudfront create-invalidation  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 4. CDN Distribution

```
CloudFront Edge Locations:
โโ us-east-1 (Virginia)     โ
โโ eu-west-1 (Ireland)      โโ Global Content Delivery
โโ ap-southeast-1 (Singapore)โ Fast, Low Latency
โโ sa-east-1 (Sรฃo Paulo)    โ
```

## ๐ Autenticaciรณn y Autorizaciรณn

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              Auth0 Provider                     โ
โ                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  Universal Login                        โ   โ
โ  โ  - Username/Password                    โ   โ
โ  โ  - Google OAuth                         โ   โ
โ  โ  - GitHub OAuth                         โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                       โ                         โ
โ                       โผ                         โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  Issue Access Tokens (JWT)              โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโ
                           โ
                           โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ          Frontend (React App)                  โ
โ                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  Attach Token to API Requests           โ   โ
โ  โ  Authorization: Bearer <token>          โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโ
                           โ
                           โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ        Backend API Gateway                      โ
โ                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  Validate JWT Token                     โ   โ
โ  โ  Check Permissions                      โ   โ
โ  โ  Forward to API                         โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ฆ Servicios y Dependencias

### Frontend Stack

```
React 18
โโโ Routing: React Router DOM 6
โโโ Auth: @auth0/auth0-react
โโโ HTTP: Axios
โโโ State: Context API + Hooks
โโโ Icons: React Icons
โโโ Build: Create React App
```

### AWS Services

```
AWS Infrastructure
โโโ S3: Static File Hosting
โโโ CloudFront: Global CDN
โโโ IAM: Access Control
โโโ ACM: SSL/TLS Certificates
```

### CI/CD Tools

```
GitHub Actions
โโโ actions/checkout@v4
โโโ actions/setup-node@v4
โโโ aws-actions/configure-aws-credentials@v4
```

## ๐ Versionado y Releases

```
Main Branch Strategy:
โโโ Push to main โ Auto-deploy to Production
โโโ CloudFront Invalidation โ Immediate cache clear
โโโ Rollback โ Re-deploy previous version
```

## ๐ Monitoreo y Logs

```
Monitoring Stack:
โโโ GitHub Actions Logs โ Build & Deploy Status
โโโ CloudFront Logs โ Access Patterns & Errors
โโโ S3 Analytics โ Storage & Access Metrics
โโโ Auth0 Dashboard โ Authentication Events
```

## ๐จ Disaster Recovery

```
Rollback Strategy:
โโโ Keep previous S3 versions
โโโ CloudFront Cache โ Short TTL on HTML
โโโ Git History โ Revert & Re-deploy
โโโ Backup Strategy โ Automated S3 versioning
```

---

**Arquitectura Diseรฑada para:**
- โก **Performance**: Global CDN, Caching Inteligente
- ๐ **Security**: HTTPS Only, Auth0 JWT
- ๐ **Scalability**: Serverless, Auto-scaling
- ๐ฐ **Cost-Effective**: Pay-per-use AWS

**Happy Architecting!** ๐๏ธ
